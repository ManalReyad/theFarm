"use strict";(self.webpackChunkOurFarm=self.webpackChunkOurFarm||[]).push([[721],{3721:(f,p,i)=>{i.r(p),i.d(p,{WarehouseModule:()=>D});var e=i(177),h=i(2183),n=i(4341),t=i(4438),g=i(6600),c=i(3686),C=i(5312),d=i(1626);let l=(()=>{class o{constructor(s){this.http=s,this.baseUrl=C.c.baseUrl+"Warehouse/"}createIncomingStock(s){return this.http.post(this.baseUrl+"IncomingStock",s)}createOutgoingStock(s){return this.http.post(this.baseUrl+"OutgoingStock",s)}static{this.\u0275fac=function(a){return new(a||o)(t.KVO(d.Qq))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var r=i(3114),v=i(4205),m=i(4417),S=i(8975);const T=[{path:"",component:(()=>{class o{constructor(s,a,u){this.farmService=s,this.roomService=a,this.warehouseService=u,this.pages=[{name:"\u0627\u0644\u0645\u062e\u0632\u0646"},{name:"\u0627\u0644\u0645\u0648\u0627\u0631\u062f \u0627\u0644\u0648\u0627\u0631\u062f\u0629"}],this.editMode=!1,this.roomOptions=[],this.farmOptions=[],this.successMesg="",this.showSuccessDialog=!1,this.activeTab="outgoing"}ngOnInit(){this.getDropdowns(),this.createForm()}getDropdowns(){this.roomService.getList().subscribe(s=>{s.success&&(this.roomOptions=s.data)}),this.farmService.getList().subscribe(s=>{s.success&&(this.farmOptions=s.data)})}createForm(){this.form=new n.gE({id:new n.MJ,quantity:new n.MJ(null,n.k0.required),inventoryTypeID:new n.MJ(null,n.k0.required),farmID:new n.MJ(null,n.k0.required),roomID:new n.MJ(null,n.k0.required)})}save(){"incoming"==this.activeTab?this.warehouseService.createIncomingStock(this.form.value).subscribe(s=>{s.success&&(this.successMesg="\u062a\u0645\u062a \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d \u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0)}):this.warehouseService.createOutgoingStock(this.form.value).subscribe(s=>{s.success&&(this.successMesg="\u062a\u0645\u062a \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d \u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0)})}switchTab(s){this.activeTab=s}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(g.K),t.rXU(c.N),t.rXU(l))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-warehouse"]],decls:23,vars:10,consts:[[3,"pages"],[1,"card"],[1,"tabs"],[1,"tab",3,"click","ngClass"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-3"],[1,"2xl:col-span-6","xl:col-span-6","lg:col-span-6","col-span-12"],["labelText","\u0627\u0644\u0645\u0632\u0631\u0639\u0629","formControlName","farmID","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0632\u0631\u0639\u0629",3,"options"],["labelText","\u0627\u0644\u0639\u0646\u0628\u0631","formControlName","roomID","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u0646\u0628\u0631",3,"options"],["labelText"," \u0646\u0648\u0639 \u0627\u0644\u0645\u062e\u0632\u0648\u0646","formControlName","inventoryTypeID","placeholder","\u062d\u062f\u062f \u0646\u0648\u0639 \u0627\u0644\u0645\u062e\u0632\u0648\u0646"],["labelText","\u0627\u0644\u0643\u0645\u064a\u0629","formControlName","quantity","placeholder","\u062d\u062f\u062f \u0627\u0644\u0643\u0645\u064a\u0629 ","inputType","number","unit","\u0643\u064a\u0644\u0648"],[1,"flex","justify-end","gap-4","mt-5"],[1,"submitBtn",3,"click","disabled"],[3,"onSubmitEvent","visible","message"]],template:function(a,u){1&a&&(t.j41(0,"h1"),t.EFF(1,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0645\u0648\u0627\u0631\u062f \u0627\u0644\u0648\u0627\u0631\u062f\u0629"),t.k0s(),t.nrm(2,"app-bread-crumb",0),t.j41(3,"div",1)(4,"div",2)(5,"a",3),t.bIt("click",function(){return u.switchTab("outgoing")}),t.EFF(6,"\u0627\u0644\u0645\u0648\u0627\u0631\u062f \u0627\u0644\u0635\u0627\u062f\u0631\u0629"),t.k0s(),t.j41(7,"a",3),t.bIt("click",function(){return u.switchTab("incoming")}),t.EFF(8,"\u0627\u0644\u0645\u0648\u0627\u0631\u062f \u0627\u0644\u0648\u0627\u0631\u062f\u0629"),t.k0s()(),t.j41(9,"form",4)(10,"div",5)(11,"div",6),t.nrm(12,"app-dropdown",7),t.k0s(),t.j41(13,"div",6),t.nrm(14,"app-dropdown",8),t.k0s(),t.j41(15,"div",6),t.nrm(16,"app-input",9),t.k0s(),t.j41(17,"div",6),t.nrm(18,"app-input",10),t.k0s()(),t.j41(19,"div",11)(20,"button",12),t.bIt("click",function(){return u.save()}),t.EFF(21),t.k0s()()()(),t.j41(22,"app-success-dialog",13),t.bIt("onSubmitEvent",function(){return u.showSuccessDialog=!1}),t.k0s()),2&a&&(t.R7$(2),t.Y8G("pages",u.pages),t.R7$(3),t.Y8G("ngClass","outgoing"==u.activeTab?"activeTab":""),t.R7$(2),t.Y8G("ngClass","incoming"==u.activeTab?"activeTab":""),t.R7$(2),t.Y8G("formGroup",u.form),t.R7$(3),t.Y8G("options",u.farmOptions),t.R7$(2),t.Y8G("options",u.roomOptions),t.R7$(6),t.Y8G("disabled",u.form.invalid),t.R7$(),t.SpI(" ",u.editMode?"\u062d\u0641\u0638":"\u0625\u0636\u0627\u0641\u0629"," "),t.R7$(),t.Y8G("visible",u.showSuccessDialog)("message",u.successMesg))},dependencies:[e.YU,r.S,v.P,m.J,S.f,n.qT,n.BC,n.cb,n.j4,n.JD],styles:[".tabs[_ngcontent-%COMP%]{margin-bottom:1.5rem;margin-right:.5rem;display:flex;width:100%;align-items:center;justify-content:flex-start;gap:1.25rem}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:10px;font-size:17px;font-weight:600;color:var(--main-gray);border-bottom:3px solid var(--main-gray);cursor:pointer}.tabs[_ngcontent-%COMP%]   .activeTab[_ngcontent-%COMP%]{color:var(--primary);border-bottom:3px solid var(--primary)}"]})}}return o})()}];let F=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[h.iI.forChild(T),h.iI]})}}return o})();var y=i(7671);let D=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[e.MD,F,y.G,n.X1]})}}return o})()},8975:(f,p,i)=>{i.d(p,{f:()=>g});var e=i(4438),h=i(1570);const n=()=>({width:"25vw"}),t=()=>({"960px":"80vw"});let g=(()=>{class c{constructor(){this.visible=!1,this.onSubmitEvent=new e.bkB}ngOnInit(){}onSubmit(){this.onSubmitEvent.emit()}static{this.\u0275fac=function(l){return new(l||c)}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["app-success-dialog"]],inputs:{visible:"visible",message:"message",btnText:"btnText"},outputs:{onSubmitEvent:"onSubmitEvent"},decls:7,vars:10,consts:[[1,"relative",3,"visibleChange","modal","closable","visible","breakpoints"],[1,"text-center","py-2","px-8"],["src","assets/images/success.svg","alt","Success",1,"mx-auto","fixed","left-1/2","transform","-translate-x-1/2","-top-10"],[1,"mt-3","mb-4"],[1,"submitSubmit",3,"click"]],template:function(l,r){1&l&&(e.j41(0,"p-dialog",0),e.mxI("visibleChange",function(m){return e.DH7(r.visible,m)||(r.visible=m),m}),e.j41(1,"div",1),e.nrm(2,"img",2),e.j41(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return r.onSubmit()}),e.EFF(6),e.k0s()()()),2&l&&(e.Aen(e.lJ4(8,n)),e.Y8G("modal",!0)("closable",!1),e.R50("visible",r.visible),e.Y8G("breakpoints",e.lJ4(9,t)),e.R7$(4),e.JRh(r.message),e.R7$(2),e.JRh(r.btnText))},dependencies:[h.l],styles:["button[_ngcontent-%COMP%]{padding:.5rem .75rem;background-color:var(--success);color:var(--main-white);border:none;border-radius:8px}p[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--main-gray)}"]})}}return c})()}}]);