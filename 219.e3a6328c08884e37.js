"use strict";(self.webpackChunkOurFarm=self.webpackChunkOurFarm||[]).push([[219],{1219:(G,d,n)=>{n.r(d),n.d(d,{DailyRegistrationModule:()=>E});var h=n(177),c=n(2183),l=n(9731),e=n(4438),f=n(5312),A=n(1626);let m=(()=>{class s{constructor(u){this.http=u,this.baseUrl=f.c.baseUrl+"DailyOps"}getAll(u,i,t=!0,o=""){return this.http.get(this.baseUrl+`/Get?OrderBy=${o}&IsAscending=${t}&PageIndex=${u}&PageSize=${i}`)}create(u){return this.http.post(this.baseUrl,u)}update(u){return this.http.put(this.baseUrl,u)}getById(u){return this.http.get(this.baseUrl+`/GetByID?id=${u}`)}delete(u){return this.http.delete(this.baseUrl+`?id=${u}`)}getList(){return this.http.get(this.baseUrl+"/GetList")}static{this.\u0275fac=function(i){return new(i||s)(e.KVO(A.Qq))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var v=n(7615),p=n(8975),b=n(207);function D(s,U){if(1&s){const u=e.RV6();e.j41(0,"div",6)(1,"button",7),e.bIt("click",function(){e.eBV(u);const t=e.XpG();return e.Njj(t.addNew())}),e.EFF(2,"\u0625\u0636\u0627\u0641\u0629 \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a"),e.k0s()()}}let y=(()=>{class s{constructor(u,i){this.dailyRegisterService=u,this.router=i,this.columns=[],this.pageResult={items:[]},this.showConfirmDeleteDialog=!1,this.showSuccessDialog=!1,this.showForm=!1,this.editMode=!1,this.successMesg="",this.showWarnningDialog=!1,this.searchMode=!1,this.pageSize=10,this.pageNumber=1,this.searchReset=!1}ngOnInit(){this.intializeListCoulmns(),this.getPage()}intializeListCoulmns(){this.columns=[new l.L({field:"",hide:!1,header:"#",width:5,isIndex:!0}),new l.L({field:"cycleName",hide:!1,header:"\u0627\u0644\u062f\u0648\u0631\u0629"}),new l.L({field:"roomName",hide:!1,header:"\u0627\u0644\u0639\u0646\u0628\u0631"}),new l.L({field:"feedPrice",hide:!1,header:"\u0633\u0639\u0631 \u0627\u0644\u062a\u063a\u0630\u064a\u0629"}),new l.L({field:"medicinePrice",hide:!1,header:"\u0633\u0639\u0631 \u0627\u0644\u0623\u062f\u0648\u064a\u0629"}),new l.L({field:"feedUsage",hide:!1,header:" \u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629"}),new l.L({field:"deadChicken",hide:!1,header:"\u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u064a\u062a\u0629"}),new l.L({field:"remainingChickenCount",hide:!1,header:"\u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u062a\u0628\u0642\u064a\u0629"})]}getPage(){this.dailyRegisterService.getAll(this.pageNumber,this.pageSize).subscribe(u=>{u.success&&(this.pageResult=u.data)})}onPageChanged(u){this.pageNumber=u.first,this.pageSize=u.rows,this.getPage()}resetSearch(){this.searchReset=!0,this.searchMode=!1,this.pageNumber=1,this.getPage()}delete(u){this.selectedDepartment=u,this.showConfirmDeleteDialog=!0}submitDelete(){this.dailyRegisterService.delete(this.selectedDepartment.id).subscribe(u=>{u.success&&(this.successMesg="\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u064a\u0648\u0645\u064a \u0628\u0646\u062c\u0627\u062d\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0,this.showConfirmDeleteDialog=!1)})}addNew(){this.router.navigate(["/daily-registration/create"])}edit(u){this.router.navigate(["/daily-registration/update/"+u.item.id])}close(){this.showForm=!1,this.showConfirmDeleteDialog=!1,this.showWarnningDialog=!1}backToList(){this.showForm=!1,this.showSuccessDialog=!1,this.getPage()}back(){this.showWarnningDialog=!1}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(m),e.rXU(c.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-daily-registration-listing"]],decls:8,vars:7,consts:[[1,"flex","flex-col","gap-4"],[1,"flex","justify-between","items-center"],["class","flex gap-3",4,"ngIf"],["noDataImg","nodepartments.svg","noDataMessage","\u064a\u0628\u062f\u0648 \u0623\u0646\u0643 \u0644\u0645 \u062a\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u064a \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a \u0628\u0639\u062f\u060c \u0633\u062a\u0638\u0647\u0631 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 \u0647\u0646\u0627... \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062f\u0621 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u0648\u0644 \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a ","addButtonText","\u0625\u0636\u0627\u0641\u0629 \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a","nosearchBtnText","\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629",3,"pageChange","edit","delete","add","back","listColumns","pageResult","searchMode"],["message","\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a\u061f \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u064b\u0627 \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629",3,"onSubmitEvent","exit","visible"],["btnText","\u0639\u0631\u0636 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629",3,"onSubmitEvent","visible","message"],[1,"flex","gap-3"],[1,"submitBtn",3,"click"]],template:function(i,t){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3," \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629 "),e.k0s(),e.DNE(4,D,3,0,"div",2),e.k0s(),e.j41(5,"app-list",3),e.bIt("pageChange",function(r){return t.onPageChanged(r)})("edit",function(r){return t.edit(r)})("delete",function(r){return t.delete(r)})("add",function(){return t.addNew()})("back",function(){return t.resetSearch()}),e.k0s()(),e.j41(6,"app-confirmation-delete-dialog",4),e.bIt("onSubmitEvent",function(){return t.submitDelete()})("exit",function(){return t.close()}),e.k0s(),e.j41(7,"app-success-dialog",5),e.bIt("onSubmitEvent",function(){return t.backToList()}),e.k0s()),2&i&&(e.R7$(4),e.Y8G("ngIf",(null==t.pageResult.items?null:t.pageResult.items.length)>0),e.R7$(),e.Y8G("listColumns",t.columns)("pageResult",t.pageResult)("searchMode",t.searchMode),e.R7$(),e.Y8G("visible",t.showConfirmDeleteDialog),e.R7$(),e.Y8G("visible",t.showSuccessDialog)("message",t.successMesg))},dependencies:[h.bT,v.s,p.f,b.C]})}}return s})();var a=n(4341),C=n(2714),R=n(3686),F=n(6600),w=n(3114),T=n(4205),S=n(749),I=n(4417);let g=(()=>{class s{constructor(u,i,t,o,r,j){this.router=u,this.activatedRoute=i,this.cycleService=t,this.roomService=o,this.dailyRegisterService=r,this.farmService=j,this.pages=[{name:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629",route:"/cycle"},{name:"\u0625\u0636\u0627\u0641\u0629 \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a"}],this.editMode=!1,this.roomOptions=[],this.cycleOptions=[],this.successMesg="",this.showSuccessDialog=!1,this.farmOptions=[]}ngOnInit(){let u=this.activatedRoute.snapshot.params.id;u&&(this.getById(u),this.editMode=!0,this.pages=[{name:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629",route:"/daily-registration"},{name:"\u062a\u0639\u062f\u064a\u0644 \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a"}]),this.getDropdowns(),this.createForm()}getDropdowns(){this.farmService.getList().subscribe(u=>{this.farmOptions=u.data})}getRooms(u){this.roomService.getList(u).subscribe(i=>{i.success&&(this.roomOptions=i.data)}),this.cycleService.getList(u).subscribe(i=>{i.success&&(this.cycleOptions=i.data)})}createForm(){this.form=new a.gE({id:new a.MJ,deadChicken:new a.MJ(null,a.k0.required),feedUsage:new a.MJ(null,a.k0.required),feedPrice:new a.MJ(null,a.k0.required),medicinePrice:new a.MJ(null,a.k0.required),roomID:new a.MJ(null,a.k0.required),cycleID:new a.MJ(null,a.k0.required),farmID:new a.MJ(null,a.k0.required),date:new a.MJ(new Date(Date.now()),a.k0.required)})}getById(u){this.dailyRegisterService.getById(u).subscribe(i=>{i.success&&this.form.patchValue({...i.data,date:new Date(i.data.date)})})}save(){this.editMode?this.dailyRegisterService.update(this.form.value).subscribe(u=>{u.success&&(this.successMesg="\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u064a\u0648\u0645\u064a \u0628\u0646\u062c\u0627\u062d\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0)}):this.dailyRegisterService.create(this.form.value).subscribe(u=>{u.success&&(this.successMesg="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u064a\u0648\u0645\u064a \u0628\u0646\u062c\u0627\u062d \u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0)})}backToList(){this.router.navigate(["/daily-registration"])}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(c.Ix),e.rXU(c.nX),e.rXU(C.I),e.rXU(R.N),e.rXU(m),e.rXU(F.K))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-daily-registration-form"]],decls:27,vars:9,consts:[[3,"pages"],[1,"card",3,"formGroup"],[1,"grid","grid-cols-12","gap-3"],[1,"2xl:col-span-6","xl:col-span-6","lg:col-span-6","col-span-12"],["labelText","\u0627\u0644\u0645\u0632\u0631\u0639\u0629","formControlName","farmID","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0632\u0631\u0639\u0629",3,"change","options"],["labelText","\u0627\u0644\u0639\u0646\u0628\u0631","formControlName","roomID","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u0646\u0628\u0631","emptyMessage","\u0625\u062e\u062a\u0631 \u0645\u0632\u0631\u0639\u0629 \u0623\u0648\u0644\u0627\u064b",3,"options"],["labelText","\u0627\u0644\u062f\u0648\u0631\u0629","formControlName","cycleID","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u062f\u0648\u0631\u0629","emptyMessage","\u0625\u062e\u062a\u0631 \u0645\u0632\u0631\u0639\u0629 \u0623\u0648\u0644\u0627\u064b",3,"options"],["labelText","\u0643\u0645\u064a\u0629 \u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629","formControlName","feedUsage","placeholder","\u062d\u062f\u062f \u0643\u0645\u064a\u0629 \u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629","inputType","number","unit","\u0643\u064a\u0644\u0648"],["labelText","\u0633\u0639\u0631 \u0627\u0644\u062a\u063a\u0630\u064a\u0629","formControlName","feedPrice","placeholder","\u062d\u062f\u062f \u0633\u0639\u0631 \u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629","inputType","number","unit","EGP"],["labelText","\u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u064a\u062a\u0629","formControlName","deadChicken","placeholder","\u062d\u062f\u062f \u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u064a\u062a\u0629","inputType","number"],["labelText","\u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u062a\u0628\u0642\u064a\u0629","formControlName","medicinePrice","placeholder","\u062d\u062f\u062f \u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u062a\u0628\u0642\u064a\u0629","inputType","number"],["labelText","\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0633\u062c\u064a\u0644","formControlName","date","placeholder","\u062d\u062f\u062f \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0633\u062c\u064a\u0644"],[1,"flex","justify-end","gap-4","mt-5"],[1,"submitBtn",3,"click","disabled"],[1,"exitBtn",3,"click"],["btnText","\u0639\u0631\u0636 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",3,"onSubmitEvent","visible","message"]],template:function(i,t){1&i&&(e.j41(0,"h1"),e.EFF(1,"\u062a\u0633\u062c\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0629"),e.k0s(),e.nrm(2,"app-bread-crumb",0),e.j41(3,"form",1)(4,"div",2)(5,"div",3)(6,"app-dropdown",4),e.bIt("change",function(r){return t.getRooms(r)}),e.k0s()(),e.j41(7,"div",3),e.nrm(8,"app-dropdown",5),e.k0s(),e.j41(9,"div",3),e.nrm(10,"app-dropdown",6),e.k0s(),e.j41(11,"div",3),e.nrm(12,"app-input",7),e.k0s(),e.j41(13,"div",3),e.nrm(14,"app-input",8),e.k0s(),e.j41(15,"div",3),e.nrm(16,"app-input",9),e.k0s(),e.j41(17,"div",3),e.nrm(18,"app-input",10),e.k0s(),e.j41(19,"div",3),e.nrm(20,"app-date-input",11),e.k0s()(),e.j41(21,"div",12)(22,"button",13),e.bIt("click",function(){return t.save()}),e.EFF(23),e.k0s(),e.j41(24,"button",14),e.bIt("click",function(){return t.backToList()}),e.EFF(25,"\u0625\u0644\u063a\u0627\u0621"),e.k0s()()(),e.j41(26,"app-success-dialog",15),e.bIt("onSubmitEvent",function(){return t.backToList()}),e.k0s()),2&i&&(e.R7$(2),e.Y8G("pages",t.pages),e.R7$(),e.Y8G("formGroup",t.form),e.R7$(3),e.Y8G("options",t.farmOptions),e.R7$(2),e.Y8G("options",t.roomOptions),e.R7$(2),e.Y8G("options",t.cycleOptions),e.R7$(12),e.Y8G("disabled",t.form.invalid),e.R7$(),e.SpI(" ",t.editMode?"\u062d\u0641\u0638":"\u0625\u0636\u0627\u0641\u0629"," "),e.R7$(3),e.Y8G("visible",t.showSuccessDialog)("message",t.successMesg))},dependencies:[w.S,T.P,S.G,I.J,p.f,a.qT,a.BC,a.cb,a.j4,a.JD]})}}return s})();const k=[{path:"",component:y},{path:"create",component:g},{path:"update/:id",component:g}];let M=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[c.iI.forChild(k),c.iI]})}}return s})();var L=n(7671);let E=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[h.MD,M,L.G,a.X1]})}}return s})()}}]);