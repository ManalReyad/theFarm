"use strict";(self.webpackChunkOurFarm=self.webpackChunkOurFarm||[]).push([[836],{7836:(k,m,i)=>{i.r(m),i.d(m,{FarmModule:()=>T});var c=i(177),h=i(2183),n=i(4341),r=i(9731),e=i(4438),p=i(6600),f=i(7615),g=i(3114),F=i(8975),b=i(5413),v=i(207),d=i(1570);const C=()=>({width:"25vw"}),_=()=>({"960px":"80vw"});function w(s,j){if(1&s){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.bIt("click",function(){e.eBV(t);const u=e.XpG();return e.Njj(u.addNew())}),e.EFF(2,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0632\u0631\u0639\u0629"),e.k0s()()}}const D=[{path:"",component:(()=>{class s{constructor(t){this.farmService=t,this.columns=[],this.pageResult={items:[]},this.showConfirmDeleteDialog=!1,this.showSuccessDialog=!1,this.showForm=!1,this.editMode=!1,this.successMesg="",this.showWarnningDialog=!1,this.searchMode=!1,this.pageSize=10,this.pageNumber=1,this.searchReset=!1}ngOnInit(){this.createForm(),this.intializeListCoulmns(),this.getPage()}intializeListCoulmns(){this.columns=[new r.L({field:"",hide:!1,header:"#",width:5,isIndex:!0}),new r.L({field:"name",hide:!1,header:"\u0627\u0644\u0627\u0633\u0645"}),new r.L({field:"description",hide:!1,header:"\u0627\u0644\u0648\u0635\u0641"})]}createForm(){this.form=new n.gE({id:new n.MJ(0),name:new n.MJ(null,n.k0.required),description:new n.MJ("")})}addNew(){this.editMode=!1,this.form.reset(),this.showForm=!0}getPage(){this.farmService.getAll(this.pageNumber,this.pageSize).subscribe(t=>{t.success&&(this.pageResult=t.data)})}edit(t){this.showForm=!0,this.editMode=!0,this.form.patchValue({...t.item})}save(){this.editMode?this.farmService.update(this.form.value).subscribe(t=>{t.success&&(this.successMesg="\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0632\u0631\u0639\u0629 \u0628\u0646\u062c\u0627\u062d\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showForm=!1,this.showSuccessDialog=!0)}):this.farmService.create(this.form.value).subscribe(t=>{t.success&&(this.successMesg="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0632\u0631\u0639\u0629 \u0628\u0646\u062c\u0627\u062d \u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showForm=!1,this.showSuccessDialog=!0)})}showWarnningMessage(){this.showWarnningDialog=!0}onPageChanged(t){this.pageNumber=t.first,this.pageSize=t.rows,this.getPage()}resetSearch(){this.searchReset=!0,this.searchMode=!1,this.pageNumber=1,this.getPage()}delete(t){this.selectedDepartment=t,this.showConfirmDeleteDialog=!0}submitDelete(){this.farmService.delete(this.selectedDepartment.id).subscribe(t=>{t.success&&(this.successMesg="\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0632\u0631\u0639\u0629 \u0628\u0646\u062c\u0627\u062d\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0,this.showConfirmDeleteDialog=!1)})}close(){this.showForm=!1,this.showConfirmDeleteDialog=!1,this.showWarnningDialog=!1}backToList(){this.showForm=!1,this.showSuccessDialog=!1,this.getPage()}back(){this.showWarnningDialog=!1}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.K))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-farm"]],decls:25,vars:20,consts:[[1,"flex","flex-col","gap-4"],[1,"flex","justify-between","items-center"],["class","flex gap-3",4,"ngIf"],["noDataImg","nodepartments.svg","noDataMessage","\u064a\u0628\u062f\u0648 \u0623\u0646\u0643 \u0644\u0645 \u062a\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u064a \u0645\u0632\u0631\u0639\u0629 \u0628\u0639\u062f\u060c \u0633\u062a\u0638\u0647\u0631 \u0627\u0644\u0645\u0632\u0631\u0639\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 \u0647\u0646\u0627... \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062f\u0621 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u0648\u0644 \u0645\u0632\u0631\u0639\u0629 ","addButtonText","\u0625\u0636\u0627\u0641\u0629 \u0645\u0632\u0631\u0639\u0629","nosearchBtnText","\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0645\u0632\u0631\u0639\u0629",3,"pageChange","edit","delete","add","back","listColumns","pageResult","searchMode"],["header","",3,"visibleChange","modal","visible","closable","breakpoints"],[1,"title"],[3,"formGroup"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],["labelText","\u0627\u0633\u0645 \u0627\u0644\u0645\u0632\u0631\u0639\u0629","placeholder","\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0632\u0631\u0639\u0629","formControlName","name"],[1,"col-span-12","flex","flex-col","mt-4"],["placeholder","\u0648\u0635\u0641 \u0627\u0644\u0645\u0632\u0631\u0639\u0629","cols","12","rows","3","formControlName","description"],[1,"flex","justify-center","gap-3","mt-5"],[1,"submitBtn",3,"click","disabled"],[1,"exitBtn",3,"click"],["message","\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0645\u0632\u0631\u0639\u0629\u061f \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u064b\u0627 \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0632\u0627\u0631\u0639",3,"onSubmitEvent","exit","visible"],["btnText","\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u0627\u0631\u0639",3,"onSubmitEvent","visible","message"],[3,"onSubmitEvent","exit","visible"],[1,"flex","gap-3"],[1,"submitBtn",3,"click"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"\u0627\u0644\u0645\u0632\u0627\u0631\u0639"),e.k0s(),e.DNE(4,w,3,0,"div",2),e.k0s(),e.j41(5,"app-list",3),e.bIt("pageChange",function(l){return u.onPageChanged(l)})("edit",function(l){return u.edit(l)})("delete",function(l){return u.delete(l)})("add",function(){return u.addNew()})("back",function(){return u.resetSearch()}),e.k0s()(),e.j41(6,"p-dialog",4),e.mxI("visibleChange",function(l){return e.DH7(u.showForm,l)||(u.showForm=l),l}),e.j41(7,"div",5),e.EFF(8),e.k0s(),e.j41(9,"form",6)(10,"div",7)(11,"div",8),e.nrm(12,"app-input",9),e.k0s(),e.j41(13,"div",10)(14,"label"),e.EFF(15,"\u0627\u0644\u0648\u0635\u0641"),e.k0s(),e.nrm(16,"textarea",11),e.k0s()()(),e.j41(17,"div",12)(18,"button",13),e.bIt("click",function(){return u.save()}),e.EFF(19),e.k0s(),e.j41(20,"button",14),e.bIt("click",function(){return u.showForm=!1}),e.EFF(21,"\u0625\u0644\u063a\u0627\u0621"),e.k0s()()(),e.j41(22,"app-confirmation-delete-dialog",15),e.bIt("onSubmitEvent",function(){return u.submitDelete()})("exit",function(){return u.close()}),e.k0s(),e.j41(23,"app-success-dialog",16),e.bIt("onSubmitEvent",function(){return u.backToList()}),e.k0s(),e.j41(24,"app-confirmation-dialog",17),e.bIt("onSubmitEvent",function(){return u.close()})("exit",function(){return u.back()}),e.k0s()),2&a&&(e.R7$(4),e.Y8G("ngIf",(null==u.pageResult.items?null:u.pageResult.items.length)>0),e.R7$(),e.Y8G("listColumns",u.columns)("pageResult",u.pageResult)("searchMode",u.searchMode),e.R7$(),e.Aen(e.lJ4(18,C)),e.Y8G("modal",!0),e.R50("visible",u.showForm),e.Y8G("closable",!1)("breakpoints",e.lJ4(19,_)),e.R7$(2),e.SpI(" ",u.editMode?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0632\u0631\u0639\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0645\u0632\u0631\u0639\u0629"," "),e.R7$(),e.Y8G("formGroup",u.form),e.R7$(9),e.Y8G("disabled",u.form.invalid),e.R7$(),e.SpI(" ",u.editMode?"\u062d\u0641\u0638":"\u0625\u0636\u0627\u0641\u0629"," "),e.R7$(3),e.Y8G("visible",u.showConfirmDeleteDialog),e.R7$(),e.Y8G("visible",u.showSuccessDialog)("message",u.successMesg),e.R7$(),e.Y8G("visible",u.showWarnningDialog))},dependencies:[c.bT,f.s,g.S,F.f,b.D,v.C,d.l,n.qT,n.me,n.BC,n.cb,n.j4,n.JD],styles:["label[_ngcontent-%COMP%]{color:var(--primary);font-weight:400;font-size:18px}"]})}}return s})()}];let S=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[h.iI.forChild(D),h.iI]})}}return s})();var M=i(7671);let T=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[c.MD,S,M.G,d.P,n.X1]})}}return s})()}}]);