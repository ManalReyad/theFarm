"use strict";(self.webpackChunkOurFarm=self.webpackChunkOurFarm||[]).push([[836],{7836:(C,f,i)=>{i.r(f),i.d(f,{FarmModule:()=>S});var t=i(177),d=i(2183),n=i(4341),p=i(9731),e=i(4438),b=i(6600),a=i(7615),g=i(3114),h=i(8975),r=i(5413),_=i(207),v=i(1570);const F=()=>({width:"25vw"}),D=()=>({"960px":"80vw"});function w(o,I){if(1&o){const u=e.RV6();e.j41(0,"div",18)(1,"button",19),e.bIt("click",function(){e.eBV(u);const s=e.XpG();return e.Njj(s.addNew())}),e.EFF(2,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0632\u0631\u0639\u0629"),e.k0s()()}}const E=[{path:"",component:(()=>{class o{constructor(u){this.farmService=u,this.columns=[],this.pageResult={items:[]},this.showConfirmDeleteDialog=!1,this.showSuccessDialog=!1,this.showForm=!1,this.editMode=!1,this.successMesg="",this.showWarnningDialog=!1,this.searchMode=!1,this.pageSize=10,this.pageNumber=1,this.searchReset=!1}ngOnInit(){this.createForm(),this.intializeListCoulmns(),this.getPage()}intializeListCoulmns(){this.columns=[new p.L({field:"",hide:!1,header:"#",width:5,isIndex:!0}),new p.L({field:"name",hide:!1,header:"\u0627\u0644\u0627\u0633\u0645"}),new p.L({field:"description",hide:!1,header:"\u0627\u0644\u0648\u0635\u0641"})]}createForm(){this.form=new n.gE({id:new n.MJ(0),name:new n.MJ(null,n.k0.required),description:new n.MJ("")})}addNew(){this.editMode=!1,this.form.reset(),this.showForm=!0}getPage(){this.farmService.getAll(this.pageNumber,this.pageSize).subscribe(u=>{u.success&&(this.pageResult=u.data)})}edit(u){this.showForm=!0,this.editMode=!0,this.form.patchValue({...u.item})}save(){this.editMode?this.farmService.update(this.form.value).subscribe(u=>{u.success&&(this.successMesg="\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0632\u0631\u0639\u0629 \u0628\u0646\u062c\u0627\u062d\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showForm=!1,this.showSuccessDialog=!0)}):this.farmService.create(this.form.value).subscribe(u=>{u.success&&(this.successMesg="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0632\u0631\u0639\u0629 \u0628\u0646\u062c\u0627\u062d \u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showForm=!1,this.showSuccessDialog=!0)})}showWarnningMessage(){this.showWarnningDialog=!0}onPageChanged(u){this.pageNumber=u.first,this.pageSize=u.rows,this.getPage()}resetSearch(){this.searchReset=!0,this.searchMode=!1,this.pageNumber=1,this.getPage()}delete(u){this.selectedDepartment=u,this.showConfirmDeleteDialog=!0}submitDelete(){this.farmService.delete(this.selectedDepartment.id).subscribe(u=>{u.success&&(this.successMesg="\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0632\u0631\u0639\u0629 \u0628\u0646\u062c\u0627\u062d\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0,this.showConfirmDeleteDialog=!1)})}close(){this.showForm=!1,this.showConfirmDeleteDialog=!1,this.showWarnningDialog=!1}backToList(){this.showForm=!1,this.showSuccessDialog=!1,this.getPage()}back(){this.showWarnningDialog=!1}static{this.\u0275fac=function(m){return new(m||o)(e.rXU(b.K))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-farm"]],decls:25,vars:20,consts:[[1,"flex","flex-col","gap-4"],[1,"flex","justify-between","items-center"],["class","flex gap-3",4,"ngIf"],["noDataImg","nodepartments.svg","noDataMessage","\u064a\u0628\u062f\u0648 \u0623\u0646\u0643 \u0644\u0645 \u062a\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u064a \u0645\u0632\u0631\u0639\u0629 \u0628\u0639\u062f\u060c \u0633\u062a\u0638\u0647\u0631 \u0627\u0644\u0645\u0632\u0631\u0639\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 \u0647\u0646\u0627... \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062f\u0621 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u0648\u0644 \u0645\u0632\u0631\u0639\u0629 ","addButtonText","\u0625\u0636\u0627\u0641\u0629 \u0645\u0632\u0631\u0639\u0629","nosearchBtnText","\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0645\u0632\u0631\u0639\u0629",3,"pageChange","edit","delete","add","back","listColumns","pageResult","searchMode"],["header","",3,"visibleChange","modal","visible","closable","breakpoints"],[1,"title"],[3,"formGroup"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],["labelText","\u0627\u0633\u0645 \u0627\u0644\u0645\u0632\u0631\u0639\u0629","placeholder","\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0632\u0631\u0639\u0629","formControlName","name"],[1,"col-span-12","flex","flex-col","mt-4"],["placeholder","\u0648\u0635\u0641 \u0627\u0644\u0645\u0632\u0631\u0639\u0629","cols","12","rows","3","formControlName","description"],[1,"flex","justify-center","gap-3","mt-5"],[1,"submitBtn",3,"click","disabled"],[1,"exitBtn",3,"click"],["message","\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0645\u0632\u0631\u0639\u0629\u061f \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u064b\u0627 \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0632\u0627\u0631\u0639",3,"onSubmitEvent","exit","visible"],["btnText","\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u0627\u0631\u0639",3,"onSubmitEvent","visible","message"],[3,"onSubmitEvent","exit","visible"],[1,"flex","gap-3"],[1,"submitBtn",3,"click"]],template:function(m,s){1&m&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"\u0627\u0644\u0645\u0632\u0627\u0631\u0639"),e.k0s(),e.DNE(4,w,3,0,"div",2),e.k0s(),e.j41(5,"app-list",3),e.bIt("pageChange",function(c){return s.onPageChanged(c)})("edit",function(c){return s.edit(c)})("delete",function(c){return s.delete(c)})("add",function(){return s.addNew()})("back",function(){return s.resetSearch()}),e.k0s()(),e.j41(6,"p-dialog",4),e.mxI("visibleChange",function(c){return e.DH7(s.showForm,c)||(s.showForm=c),c}),e.j41(7,"div",5),e.EFF(8),e.k0s(),e.j41(9,"form",6)(10,"div",7)(11,"div",8),e.nrm(12,"app-input",9),e.k0s(),e.j41(13,"div",10)(14,"label"),e.EFF(15,"\u0627\u0644\u0648\u0635\u0641"),e.k0s(),e.nrm(16,"textarea",11),e.k0s()()(),e.j41(17,"div",12)(18,"button",13),e.bIt("click",function(){return s.save()}),e.EFF(19),e.k0s(),e.j41(20,"button",14),e.bIt("click",function(){return s.showForm=!1}),e.EFF(21,"\u0625\u0644\u063a\u0627\u0621"),e.k0s()()(),e.j41(22,"app-confirmation-delete-dialog",15),e.bIt("onSubmitEvent",function(){return s.submitDelete()})("exit",function(){return s.close()}),e.k0s(),e.j41(23,"app-success-dialog",16),e.bIt("onSubmitEvent",function(){return s.backToList()}),e.k0s(),e.j41(24,"app-confirmation-dialog",17),e.bIt("onSubmitEvent",function(){return s.close()})("exit",function(){return s.back()}),e.k0s()),2&m&&(e.R7$(4),e.Y8G("ngIf",(null==s.pageResult.items?null:s.pageResult.items.length)>0),e.R7$(),e.Y8G("listColumns",s.columns)("pageResult",s.pageResult)("searchMode",s.searchMode),e.R7$(),e.Aen(e.lJ4(18,F)),e.Y8G("modal",!0),e.R50("visible",s.showForm),e.Y8G("closable",!1)("breakpoints",e.lJ4(19,D)),e.R7$(2),e.SpI(" ",s.editMode?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0632\u0631\u0639\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0645\u0632\u0631\u0639\u0629"," "),e.R7$(),e.Y8G("formGroup",s.form),e.R7$(9),e.Y8G("disabled",s.form.invalid),e.R7$(),e.SpI(" ",s.editMode?"\u062d\u0641\u0638":"\u0625\u0636\u0627\u0641\u0629"," "),e.R7$(3),e.Y8G("visible",s.showConfirmDeleteDialog),e.R7$(),e.Y8G("visible",s.showSuccessDialog)("message",s.successMesg),e.R7$(),e.Y8G("visible",s.showWarnningDialog))},dependencies:[t.bT,a.s,g.S,h.f,r.D,_.C,v.l,n.qT,n.me,n.BC,n.cb,n.j4,n.JD],styles:["label[_ngcontent-%COMP%]{color:var(--primary);font-weight:400;font-size:18px}"]})}}return o})()}];let M=(()=>{class o{static{this.\u0275fac=function(m){return new(m||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild(E),d.iI]})}}return o})();var k=i(7671);let S=(()=>{class o{static{this.\u0275fac=function(m){return new(m||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[t.MD,M,k.G,v.P,n.X1]})}}return o})()},6600:(C,f,i)=>{i.d(f,{K:()=>p});var t=i(5312),d=i(4438),n=i(1626);let p=(()=>{class e{constructor(a){this.http=a,this.baseUrl=t.c.baseUrl+"Farm"}getAll(a,g,h=!0,r=""){return this.http.get(this.baseUrl+`/Get?OrderBy=${r}&IsAscending=${h}&PageIndex=${a}&PageSize=${g}`)}create(a){return this.http.post(this.baseUrl,a)}update(a){return this.http.put(this.baseUrl,a)}getById(a){return this.http.get(this.baseUrl+`/GetByID?id=${a}`)}delete(a){return this.http.delete(this.baseUrl+`?id=${a}`)}getList(){return this.http.get(this.baseUrl+"/GetList")}static{this.\u0275fac=function(g){return new(g||e)(d.KVO(n.Qq))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},207:(C,f,i)=>{i.d(f,{C:()=>e});var t=i(4438),d=i(1570);const n=()=>({width:"25vw"}),p=()=>({"960px":"80vw"});let e=(()=>{class b{constructor(){this.visible=!1,this.message="",this.onSubmitEvent=new t.bkB,this.exit=new t.bkB}ngOnInit(){}onSubmit(){this.onSubmitEvent.emit()}close(){this.exit.emit()}static{this.\u0275fac=function(h){return new(h||b)}}static{this.\u0275cmp=t.VBU({type:b,selectors:[["app-confirmation-delete-dialog"]],inputs:{visible:"visible",message:"message",btnText:"btnText"},outputs:{onSubmitEvent:"onSubmitEvent",exit:"exit"},decls:10,vars:9,consts:[[1,"relative",3,"visibleChange","modal","closable","visible","breakpoints"],[1,"text-center","py-2","px-8"],["src","assets/images/confirmDelete.svg","alt","warning",1,"mx-auto","fixed","left-1/2","transform","-translate-x-1/2","-top-10"],[1,"mt-3","mb-4"],[1,"flex","justify-center","gap-2"],[3,"click"],[1,"outlineBtn",3,"click"]],template:function(h,r){1&h&&(t.j41(0,"p-dialog",0),t.mxI("visibleChange",function(v){return t.DH7(r.visible,v)||(r.visible=v),v}),t.j41(1,"div",1),t.nrm(2,"img",2),t.j41(3,"p",3),t.EFF(4),t.k0s(),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return r.onSubmit()}),t.EFF(7,"\u062d\u0630\u0641"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return r.close()}),t.EFF(9,"\u0631\u062c\u0648\u0639"),t.k0s()()()()),2&h&&(t.Aen(t.lJ4(7,n)),t.Y8G("modal",!0)("closable",!1),t.R50("visible",r.visible),t.Y8G("breakpoints",t.lJ4(8,p)),t.R7$(4),t.JRh(r.message))},dependencies:[d.l],styles:["button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:var(--error);color:var(--main-white);border:none;border-radius:8px}.outlineBtn[_ngcontent-%COMP%]{background-color:var(--main-white);color:var(--error);border:1px solid var(--error)}p[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--main-gray)}"]})}}return b})()}}]);