"use strict";(self.webpackChunkOurFarm=self.webpackChunkOurFarm||[]).push([[219],{1219:(E,d,a)=>{a.r(d),a.d(d,{DailyRegistrationModule:()=>M});var h=a(177),c=a(2183),r=a(9731),e=a(4438),f=a(5312),A=a(1626);let p=(()=>{class i{constructor(u){this.http=u,this.baseUrl=f.c.baseUrl+"DailyOps"}getAll(u,s,t=!0,o=""){return this.http.get(this.baseUrl+`/Get?OrderBy=${o}&IsAscending=${t}&PageIndex=${u}&PageSize=${s}`)}create(u){return this.http.post(this.baseUrl,u)}update(u){return this.http.put(this.baseUrl,u)}getById(u){return this.http.get(this.baseUrl+`/GetByID?id=${u}`)}delete(u){return this.http.delete(this.baseUrl+`?id=${u}`)}getList(){return this.http.get(this.baseUrl+"/GetList")}static{this.\u0275fac=function(s){return new(s||i)(e.KVO(A.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var v=a(7615),m=a(8975),b=a(207);function D(i,j){if(1&i){const u=e.RV6();e.j41(0,"div",6)(1,"button",7),e.bIt("click",function(){e.eBV(u);const t=e.XpG();return e.Njj(t.addNew())}),e.EFF(2,"\u0625\u0636\u0627\u0641\u0629 \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a"),e.k0s()()}}let y=(()=>{class i{constructor(u,s){this.dailyRegisterService=u,this.router=s,this.columns=[],this.pageResult={items:[]},this.showConfirmDeleteDialog=!1,this.showSuccessDialog=!1,this.showForm=!1,this.editMode=!1,this.successMesg="",this.showWarnningDialog=!1,this.searchMode=!1,this.pageSize=10,this.pageNumber=1,this.searchReset=!1}ngOnInit(){this.intializeListCoulmns(),this.getPage()}intializeListCoulmns(){this.columns=[new r.L({field:"",hide:!1,header:"#",width:5,isIndex:!0}),new r.L({field:"cycleName",hide:!1,header:"\u0627\u0644\u062f\u0648\u0631\u0629"}),new r.L({field:"roomName",hide:!1,header:"\u0627\u0644\u0639\u0646\u0628\u0631"}),new r.L({field:"feedPrice",hide:!1,header:"\u0633\u0639\u0631 \u0627\u0644\u062a\u063a\u0630\u064a\u0629"}),new r.L({field:"medicinePrice",hide:!1,header:"\u0633\u0639\u0631 \u0627\u0644\u0623\u062f\u0648\u064a\u0629"}),new r.L({field:"feedUsage",hide:!1,header:" \u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629"}),new r.L({field:"deadChicken",hide:!1,header:"\u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u064a\u062a\u0629"}),new r.L({field:"remainingChickenCount",hide:!1,header:"\u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u062a\u0628\u0642\u064a\u0629"})]}getPage(){this.dailyRegisterService.getAll(this.pageNumber,this.pageSize).subscribe(u=>{u.success&&(this.pageResult=u.data)})}onPageChanged(u){this.pageNumber=u.first,this.pageSize=u.rows,this.getPage()}resetSearch(){this.searchReset=!0,this.searchMode=!1,this.pageNumber=1,this.getPage()}delete(u){this.selectedDepartment=u,this.showConfirmDeleteDialog=!0}submitDelete(){this.dailyRegisterService.delete(this.selectedDepartment.id).subscribe(u=>{u.success&&(this.successMesg="\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u064a\u0648\u0645\u064a \u0628\u0646\u062c\u0627\u062d\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0,this.showConfirmDeleteDialog=!1)})}addNew(){this.router.navigate(["/daily-registration/create"])}edit(u){this.router.navigate(["/daily-registration/update/"+u.item.id])}close(){this.showForm=!1,this.showConfirmDeleteDialog=!1,this.showWarnningDialog=!1}backToList(){this.showForm=!1,this.showSuccessDialog=!1,this.getPage()}back(){this.showWarnningDialog=!1}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(p),e.rXU(c.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-daily-registration-listing"]],decls:8,vars:7,consts:[[1,"flex","flex-col","gap-4"],[1,"flex","justify-between","items-center"],["class","flex gap-3",4,"ngIf"],["noDataImg","nodepartments.svg","noDataMessage","\u064a\u0628\u062f\u0648 \u0623\u0646\u0643 \u0644\u0645 \u062a\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u064a \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a \u0628\u0639\u062f\u060c \u0633\u062a\u0638\u0647\u0631 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 \u0647\u0646\u0627... \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062f\u0621 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u0648\u0644 \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a ","addButtonText","\u0625\u0636\u0627\u0641\u0629 \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a","nosearchBtnText","\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629",3,"pageChange","edit","delete","add","back","listColumns","pageResult","searchMode"],["message","\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a\u061f \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u064b\u0627 \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629",3,"onSubmitEvent","exit","visible"],["btnText","\u0639\u0631\u0636 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629",3,"onSubmitEvent","visible","message"],[1,"flex","gap-3"],[1,"submitBtn",3,"click"]],template:function(s,t){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3," \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629 "),e.k0s(),e.DNE(4,D,3,0,"div",2),e.k0s(),e.j41(5,"app-list",3),e.bIt("pageChange",function(l){return t.onPageChanged(l)})("edit",function(l){return t.edit(l)})("delete",function(l){return t.delete(l)})("add",function(){return t.addNew()})("back",function(){return t.resetSearch()}),e.k0s()(),e.j41(6,"app-confirmation-delete-dialog",4),e.bIt("onSubmitEvent",function(){return t.submitDelete()})("exit",function(){return t.close()}),e.k0s(),e.j41(7,"app-success-dialog",5),e.bIt("onSubmitEvent",function(){return t.backToList()}),e.k0s()),2&s&&(e.R7$(4),e.Y8G("ngIf",(null==t.pageResult.items?null:t.pageResult.items.length)>0),e.R7$(),e.Y8G("listColumns",t.columns)("pageResult",t.pageResult)("searchMode",t.searchMode),e.R7$(),e.Y8G("visible",t.showConfirmDeleteDialog),e.R7$(),e.Y8G("visible",t.showSuccessDialog)("message",t.successMesg))},dependencies:[h.bT,v.s,m.f,b.C]})}}return i})();var n=a(4341),C=a(2714),F=a(3686),R=a(3114),w=a(4205),T=a(749),S=a(4417);let g=(()=>{class i{constructor(u,s,t,o,l){this.router=u,this.activatedRoute=s,this.cycleService=t,this.roomService=o,this.dailyRegisterService=l,this.pages=[{name:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629",route:"/cycle"},{name:"\u0625\u0636\u0627\u0641\u0629 \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a"}],this.editMode=!1,this.roomOptions=[],this.cycleOptions=[],this.successMesg="",this.showSuccessDialog=!1}ngOnInit(){let u=this.activatedRoute.snapshot.params.id;u&&(this.getById(u),this.editMode=!0,this.pages=[{name:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u064a\u0648\u0645\u064a\u0629",route:"/daily-registration"},{name:"\u062a\u0639\u062f\u064a\u0644 \u062a\u0633\u062c\u064a\u0644 \u064a\u0648\u0645\u064a"}]),this.getDropdowns(),this.createForm()}getDropdowns(){this.roomService.getList().subscribe(u=>{u.success&&(this.roomOptions=u.data)}),this.cycleService.getList().subscribe(u=>{u.success&&(this.cycleOptions=u.data)})}createForm(){this.form=new n.gE({id:new n.MJ,deadChicken:new n.MJ(null,n.k0.required),feedUsage:new n.MJ(null,n.k0.required),feedPrice:new n.MJ(null,n.k0.required),medicinePrice:new n.MJ(null,n.k0.required),roomID:new n.MJ(null,n.k0.required),cycleID:new n.MJ(null,n.k0.required),date:new n.MJ(new Date(Date.now()),n.k0.required)})}getById(u){this.dailyRegisterService.getById(u).subscribe(s=>{s.success&&this.form.patchValue({...s.data,date:new Date(s.data.date)})})}save(){this.editMode?this.dailyRegisterService.update(this.form.value).subscribe(u=>{u.success&&(this.successMesg="\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u064a\u0648\u0645\u064a \u0628\u0646\u062c\u0627\u062d\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0)}):this.dailyRegisterService.create(this.form.value).subscribe(u=>{u.success&&(this.successMesg="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u064a\u0648\u0645\u064a \u0628\u0646\u062c\u0627\u062d \u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0)})}backToList(){this.router.navigate(["/daily-registration"])}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(c.Ix),e.rXU(c.nX),e.rXU(C.I),e.rXU(F.N),e.rXU(p))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-daily-registration-form"]],decls:25,vars:8,consts:[[3,"pages"],[1,"card",3,"formGroup"],[1,"grid","grid-cols-12","gap-3"],[1,"2xl:col-span-6","xl:col-span-6","lg:col-span-6","col-span-12"],["labelText","\u0627\u0644\u062f\u0648\u0631\u0629","formControlName","cycleID","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u062f\u0648\u0631\u0629",3,"options"],["labelText","\u0627\u0644\u0639\u0646\u0628\u0631","formControlName","roomID","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u0646\u0628\u0631",3,"options"],["labelText","\u0643\u0645\u064a\u0629 \u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629","formControlName","feedUsage","placeholder","\u062d\u062f\u062f \u0643\u0645\u064a\u0629 \u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629","inputType","number","unit","\u0643\u064a\u0644\u0648"],["labelText","\u0633\u0639\u0631 \u0627\u0644\u062a\u063a\u0630\u064a\u0629","formControlName","feedPrice","placeholder","\u062d\u062f\u062f \u0633\u0639\u0631 \u0627\u0644\u062a\u063a\u0630\u064a\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629","inputType","number","unit","EGP"],["labelText","\u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u064a\u062a\u0629","formControlName","deadChicken","placeholder","\u062d\u062f\u062f \u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u064a\u062a\u0629","inputType","number"],["labelText","\u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u062a\u0628\u0642\u064a\u0629","formControlName","medicinePrice","placeholder","\u062d\u062f\u062f \u0627\u0644\u0641\u0631\u0627\u062e \u0627\u0644\u0645\u062a\u0628\u0642\u064a\u0629","inputType","number"],["labelText","\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0633\u062c\u064a\u0644","formControlName","date","placeholder","\u062d\u062f\u062f \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0633\u062c\u064a\u0644"],[1,"flex","justify-end","gap-4","mt-5"],[1,"submitBtn",3,"click","disabled"],[1,"exitBtn",3,"click"],["btnText","\u0639\u0631\u0636 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",3,"onSubmitEvent","visible","message"]],template:function(s,t){1&s&&(e.j41(0,"h1"),e.EFF(1,"\u062a\u0633\u062c\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0629"),e.k0s(),e.nrm(2,"app-bread-crumb",0),e.j41(3,"form",1)(4,"div",2)(5,"div",3),e.nrm(6,"app-dropdown",4),e.k0s(),e.j41(7,"div",3),e.nrm(8,"app-dropdown",5),e.k0s(),e.j41(9,"div",3),e.nrm(10,"app-input",6),e.k0s(),e.j41(11,"div",3),e.nrm(12,"app-input",7),e.k0s(),e.j41(13,"div",3),e.nrm(14,"app-input",8),e.k0s(),e.j41(15,"div",3),e.nrm(16,"app-input",9),e.k0s(),e.j41(17,"div",3),e.nrm(18,"app-date-input",10),e.k0s()(),e.j41(19,"div",11)(20,"button",12),e.bIt("click",function(){return t.save()}),e.EFF(21),e.k0s(),e.j41(22,"button",13),e.bIt("click",function(){return t.backToList()}),e.EFF(23,"\u0625\u0644\u063a\u0627\u0621"),e.k0s()()(),e.j41(24,"app-success-dialog",14),e.bIt("onSubmitEvent",function(){return t.backToList()}),e.k0s()),2&s&&(e.R7$(2),e.Y8G("pages",t.pages),e.R7$(),e.Y8G("formGroup",t.form),e.R7$(3),e.Y8G("options",t.cycleOptions),e.R7$(2),e.Y8G("options",t.roomOptions),e.R7$(12),e.Y8G("disabled",t.form.invalid),e.R7$(),e.SpI(" ",t.editMode?"\u062d\u0641\u0638":"\u0625\u0636\u0627\u0641\u0629"," "),e.R7$(3),e.Y8G("visible",t.showSuccessDialog)("message",t.successMesg))},dependencies:[R.S,w.P,T.G,S.J,m.f,n.qT,n.BC,n.cb,n.j4,n.JD]})}}return i})();const k=[{path:"",component:y},{path:"create",component:g},{path:"update/:id",component:g}];let I=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[c.iI.forChild(k),c.iI]})}}return i})();var L=a(7671);let M=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[h.MD,I,L.G,n.X1]})}}return i})()}}]);