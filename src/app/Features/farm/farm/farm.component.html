<div class="flex flex-col gap-4">
    <div class="flex justify-between items-center">
      <h1> المزارع </h1>
  
      <div class="flex gap-3">
        <button class="submitBtn" (click)="addNew()">إضافة مزرعة</button>
      </div>
    </div>
  
    <app-list
      [listColumns]="columns"
      [pageResult]="pageResult"
      (pageChange)="onPageChanged($event)"
      (edit)="edit($event)"
      (delete)="delete($event)"
      (add)="addNew()"
      [searchMode]="searchMode"
      (back)="resetSearch()"
      noDataImg="nodepartments.svg"
      noDataMessage="يبدو أنك لم تقم بإضافة أي مزرعة بعد، ستظهر المزرعة المضافة هنا... يمكنك البدء بإضافة أول مزرعة "
      addButtonText="إضافة مزرعة"
      nosearchBtnText="العودة إلى المزرعة"
    ></app-list>
  </div>
  
  <p-dialog
    header=""
    [modal]="true"
    [(visible)]="showForm"
    [closable]="false"
    [style]="{ width: '25vw' }"
    [breakpoints]="{ '960px': '80vw' }"
  >
    <div class="title">
      {{ editMode ? "تعديل المزرعة" : "إضافة مزرعة" }}
    </div>
    <form [formGroup]="form">
      <div class="grid grid-cols-12 mt-5">
        <div class="col-span-12">
          <app-input
            labelText="اسم المزرعة"
            placeholder="أدخل اسم المزرعة"
            formControlName="name"
          ></app-input>
          <div class="col-span-12 flex flex-col mt-4">
            <label >الوصف</label>
            <textarea placeholder="وصف المزرعة" cols="12" rows="3" formControlName="description"></textarea>
          </div>
        </div>
      </div>
    </form>
  
    <div class="flex justify-center gap-3 mt-5">
      <button class="submitBtn" (click)="save()" [disabled]="form.invalid">
        {{ editMode ? "حفظ" : "إضافة" }}
      </button>
      <button class="exitBtn" (click)="showWarnningMessage()">إلغاء</button>
    </div>
  </p-dialog>
  
  <app-confirmation-delete-dialog
    message="هل أنت متأكد أنك تريد حذف المزرعة؟ سيتم حذفها نهائيًا من قائمة المزارع"
    [visible]="showConfirmDeleteDialog"
    (onSubmitEvent)="submitDelete()"
    (exit)="close()"
  ></app-confirmation-delete-dialog>
  
  <app-success-dialog
    [visible]="showSuccessDialog"
    (onSubmitEvent)="backToList()"
    [message]="successMesg"
    btnText="عرض المزارع"
  ></app-success-dialog>
  
  <app-confirmation-dialog
    [visible]="showWarnningDialog"
    (onSubmitEvent)="close()"
    (exit)="back()"
  >
  </app-confirmation-dialog>