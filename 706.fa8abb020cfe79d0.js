"use strict";(self.webpackChunkOurFarm=self.webpackChunkOurFarm||[]).push([[706],{1706:(_,g,u)=>{u.r(g),u.d(g,{AssetsModule:()=>M});var t=u(177),f=u(2183),o=u(4341),c=u(9731),e=u(4438),h=u(9761),C=u(7615),v=u(3114),d=u(8975),m=u(5413),b=u(207),p=u(1570);const D=()=>({width:"25vw"}),F=()=>({"960px":"80vw"});function w(n,E){if(1&n){const i=e.RV6();e.j41(0,"div",19)(1,"button",20),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.addNew())}),e.EFF(2,"\u0625\u0636\u0627\u0641\u0629 \u0623\u0635\u0644"),e.k0s()()}}const A=[{path:"",component:(()=>{class n{constructor(i){this.assetService=i,this.columns=[],this.pageResult={items:[]},this.showConfirmDeleteDialog=!1,this.showSuccessDialog=!1,this.showForm=!1,this.editMode=!1,this.successMesg="",this.showWarnningDialog=!1,this.searchMode=!1,this.pageSize=10,this.pageNumber=1,this.searchReset=!1}ngOnInit(){this.createForm(),this.intializeListCoulmns(),this.getPage()}intializeListCoulmns(){this.columns=[new c.L({field:"",hide:!1,header:"#",width:5,isIndex:!0}),new c.L({field:"name",hide:!1,header:"\u0627\u0644\u0627\u0633\u0645"}),new c.L({field:"count",hide:!1,header:"\u0627\u0644\u0639\u062f\u062f"}),new c.L({field:"description",hide:!1,header:"\u0627\u0644\u0648\u0635\u0641"})]}createForm(){this.form=new o.gE({id:new o.MJ(0),name:new o.MJ(null,o.k0.required),description:new o.MJ(""),count:new o.MJ("")})}addNew(){this.editMode=!1,this.form.reset(),this.showForm=!0}getPage(){this.assetService.getAll(this.pageNumber,this.pageSize).subscribe(i=>{i.success&&(this.pageResult=i.data)})}edit(i){this.showForm=!0,this.editMode=!0,this.form.patchValue({...i.item})}save(){this.editMode?this.assetService.update(this.form.value).subscribe(i=>{i.success&&(this.successMesg="\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0623\u0635\u0644 \u0628\u0646\u062c\u0627\u062d\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showForm=!1,this.showSuccessDialog=!0)}):this.assetService.create(this.form.value).subscribe(i=>{i.success&&(this.successMesg="\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0623\u0635\u0644 \u0628\u0646\u062c\u0627\u062d \u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showForm=!1,this.showSuccessDialog=!0)})}showWarnningMessage(){this.showWarnningDialog=!0}onPageChanged(i){this.pageNumber=i.first,this.pageSize=i.rows,this.getPage()}resetSearch(){this.searchReset=!0,this.searchMode=!1,this.pageNumber=1,this.getPage()}delete(i){this.selectedDepartment=i,this.showConfirmDeleteDialog=!0}submitDelete(){this.assetService.delete(this.selectedDepartment.id).subscribe(i=>{i.success&&(this.successMesg="\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0623\u0635\u0644 \u0628\u0646\u062c\u0627\u062d\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629",this.showSuccessDialog=!0,this.showConfirmDeleteDialog=!1)})}close(){this.showForm=!1,this.showConfirmDeleteDialog=!1,this.showWarnningDialog=!1}backToList(){this.showForm=!1,this.showSuccessDialog=!1,this.getPage()}back(){this.showWarnningDialog=!1}static{this.\u0275fac=function(l){return new(l||n)(e.rXU(h.I))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-assets"]],decls:27,vars:20,consts:[[1,"flex","flex-col","gap-4"],[1,"flex","justify-between","items-center"],["class","flex gap-3",4,"ngIf"],["noDataImg","nodepartments.svg","noDataMessage","\u064a\u0628\u062f\u0648 \u0623\u0646\u0643 \u0644\u0645 \u062a\u0642\u0645 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u064a \u0623\u0635\u0644 \u0628\u0639\u062f\u060c \u0633\u062a\u0638\u0647\u0631 \u0627\u0644\u0623\u0635\u0648\u0644 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 \u0647\u0646\u0627... \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062f\u0621 \u0628\u0625\u0636\u0627\u0641\u0629 \u0623\u0648\u0644 \u0623\u0635\u0644 ","addButtonText","\u0625\u0636\u0627\u0641\u0629 \u0623\u0635\u0644","nosearchBtnText","\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0623\u0635\u0648\u0644",3,"pageChange","edit","delete","add","back","listColumns","pageResult","searchMode"],["header","",3,"visibleChange","modal","visible","closable","breakpoints"],[1,"title"],[3,"formGroup"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],["labelText","\u0627\u0633\u0645 \u0627\u0644\u0623\u0635\u0644","placeholder","\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0623\u0635\u0644","formControlName","name"],["labelText","\u0627\u0644\u0639\u062f\u062f","placeholder","\u0623\u062f\u062e\u0644 \u0639\u062f\u062f \u0627\u0644\u0623\u0635\u0644","formControlName","count"],[1,"col-span-12","flex","flex-col","mt-4"],["placeholder","\u0648\u0635\u0641 \u0627\u0644\u0623\u0635\u0644","cols","12","rows","3","formControlName","description"],[1,"flex","justify-center","gap-3","mt-5"],[1,"submitBtn",3,"click","disabled"],[1,"exitBtn",3,"click"],["message","\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0623\u0635\u0644\u061f \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647 \u0646\u0647\u0627\u0626\u064a\u064b\u0627 \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0635\u0648\u0644",3,"onSubmitEvent","exit","visible"],["btnText","\u0639\u0631\u0636 \u0627\u0644\u0623\u0635\u0648\u0644",3,"onSubmitEvent","visible","message"],[3,"onSubmitEvent","exit","visible"],[1,"flex","gap-3"],[1,"submitBtn",3,"click"]],template:function(l,s){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"\u0627\u0644\u0623\u0635\u0648\u0644"),e.k0s(),e.DNE(4,w,3,0,"div",2),e.k0s(),e.j41(5,"app-list",3),e.bIt("pageChange",function(r){return s.onPageChanged(r)})("edit",function(r){return s.edit(r)})("delete",function(r){return s.delete(r)})("add",function(){return s.addNew()})("back",function(){return s.resetSearch()}),e.k0s()(),e.j41(6,"p-dialog",4),e.mxI("visibleChange",function(r){return e.DH7(s.showForm,r)||(s.showForm=r),r}),e.j41(7,"div",5),e.EFF(8),e.k0s(),e.j41(9,"form",6)(10,"div",7)(11,"div",8),e.nrm(12,"app-input",9),e.k0s(),e.j41(13,"div",8),e.nrm(14,"app-input",10),e.k0s(),e.j41(15,"div",11)(16,"label"),e.EFF(17,"\u0627\u0644\u0648\u0635\u0641"),e.k0s(),e.nrm(18,"textarea",12),e.k0s()()(),e.j41(19,"div",13)(20,"button",14),e.bIt("click",function(){return s.save()}),e.EFF(21),e.k0s(),e.j41(22,"button",15),e.bIt("click",function(){return s.showForm=!1}),e.EFF(23,"\u0625\u0644\u063a\u0627\u0621"),e.k0s()()(),e.j41(24,"app-confirmation-delete-dialog",16),e.bIt("onSubmitEvent",function(){return s.submitDelete()})("exit",function(){return s.close()}),e.k0s(),e.j41(25,"app-success-dialog",17),e.bIt("onSubmitEvent",function(){return s.backToList()}),e.k0s(),e.j41(26,"app-confirmation-dialog",18),e.bIt("onSubmitEvent",function(){return s.close()})("exit",function(){return s.back()}),e.k0s()),2&l&&(e.R7$(4),e.Y8G("ngIf",(null==s.pageResult.items?null:s.pageResult.items.length)>0),e.R7$(),e.Y8G("listColumns",s.columns)("pageResult",s.pageResult)("searchMode",s.searchMode),e.R7$(),e.Aen(e.lJ4(18,D)),e.Y8G("modal",!0),e.R50("visible",s.showForm),e.Y8G("closable",!1)("breakpoints",e.lJ4(19,F)),e.R7$(2),e.SpI(" ",s.editMode?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0623\u0635\u0644":"\u0625\u0636\u0627\u0641\u0629 \u0623\u0635\u0644"," "),e.R7$(),e.Y8G("formGroup",s.form),e.R7$(11),e.Y8G("disabled",s.form.invalid),e.R7$(),e.SpI(" ",s.editMode?"\u062d\u0641\u0638":"\u0625\u0636\u0627\u0641\u0629"," "),e.R7$(3),e.Y8G("visible",s.showConfirmDeleteDialog),e.R7$(),e.Y8G("visible",s.showSuccessDialog)("message",s.successMesg),e.R7$(),e.Y8G("visible",s.showWarnningDialog))},dependencies:[t.bT,C.s,v.S,d.f,m.D,b.C,p.l,o.qT,o.me,o.BC,o.cb,o.j4,o.JD]})}}return n})()}];let k=(()=>{class n{static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(A),f.iI]})}}return n})();var S=u(7671);let M=(()=>{class n{static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[t.MD,k,S.G,p.P,o.X1]})}}return n})()},207:(_,g,u)=>{u.d(g,{C:()=>e});var t=u(4438),f=u(1570);const o=()=>({width:"25vw"}),c=()=>({"960px":"80vw"});let e=(()=>{class h{constructor(){this.visible=!1,this.message="",this.onSubmitEvent=new t.bkB,this.exit=new t.bkB}ngOnInit(){}onSubmit(){this.onSubmitEvent.emit()}close(){this.exit.emit()}static{this.\u0275fac=function(d){return new(d||h)}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["app-confirmation-delete-dialog"]],inputs:{visible:"visible",message:"message",btnText:"btnText"},outputs:{onSubmitEvent:"onSubmitEvent",exit:"exit"},decls:10,vars:9,consts:[[1,"relative",3,"visibleChange","modal","closable","visible","breakpoints"],[1,"text-center","py-2","px-8"],["src","assets/images/confirmDelete.svg","alt","warning",1,"mx-auto","fixed","left-1/2","transform","-translate-x-1/2","-top-10"],[1,"mt-3","mb-4"],[1,"flex","justify-center","gap-2"],[3,"click"],[1,"outlineBtn",3,"click"]],template:function(d,m){1&d&&(t.j41(0,"p-dialog",0),t.mxI("visibleChange",function(p){return t.DH7(m.visible,p)||(m.visible=p),p}),t.j41(1,"div",1),t.nrm(2,"img",2),t.j41(3,"p",3),t.EFF(4),t.k0s(),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return m.onSubmit()}),t.EFF(7,"\u062d\u0630\u0641"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return m.close()}),t.EFF(9,"\u0631\u062c\u0648\u0639"),t.k0s()()()()),2&d&&(t.Aen(t.lJ4(7,o)),t.Y8G("modal",!0)("closable",!1),t.R50("visible",m.visible),t.Y8G("breakpoints",t.lJ4(8,c)),t.R7$(4),t.JRh(m.message))},dependencies:[f.l],styles:["button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:var(--error);color:var(--main-white);border:none;border-radius:8px}.outlineBtn[_ngcontent-%COMP%]{background-color:var(--main-white);color:var(--error);border:1px solid var(--error)}p[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--main-gray)}"]})}}return h})()}}]);